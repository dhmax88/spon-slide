!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.sponResize=t()}(this,function(){"use strict";function e(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map(function(e){e(n)}),(e["*"]||[]).slice().map(function(e){e(t,n)})}}}function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(function(e,n,i){return{PREV:i[n-1]?n-1:!0===t?i.length-1:n,NEXT:i[n+1]?n+1:!0===t?0:n}})},o=function(e,t,n){var i=!1,r=function n(r,o){if(o.stopPropagation(),t.removeEventListener(e,n),o.target===t&&!i)return i=!0,void r()};return new Promise(function(i){n&&n(),t.addEventListener(e,r.bind(null,i),!1)})},a=function(){var e=document.createElement("div");return function(t){return e.innerHTML=t,e.children[0]}}(),s=function(){var e={OAnimation:"oAnimationEnd",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"},t=document.createElement("fake");return Object.keys(e).reduce(function(n,i){return void 0!==t.style[i]?e[i]:n},"")},u=function(){var e=this;this.defaults={animationType:"animation",selector:"[data-slide-item]",previousButton:"[data-slide-prev]",nextButton:"[data-slide-next]",activeClass:"c-slide__item--current",loop:!1,delay:3e3,wrap:!0,dots:!0,promiseBefore:!1,paginationParent:!1,animateOnInit:!1,startingIndex:function(){return 0},paginationWrapper:"<div></div>",accessibility:!0,paginationButtons:function(e){return e.map(function(){return"<button />"})}},this.setOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.options=i({},e.options,{options:t}),e},this.init=function(){var n=e.options,i=n.selector,o=n.previousButton,a=n.nextButton,s=n.activeClass,u=n.loop,c=n.wrap,d=n.dots,l=n.startingIndex,p=n.animateOnInit,f=n.accessibility,v=e.$el.querySelector("."+s);return e.$slides=[].concat(t(e.$el.querySelectorAll(i))),e.total=e.$slides.length-1,e.$prevBtn=o&&e.$el.querySelector(o),e.$nextBtn=a&&e.$el.querySelector("[data-slide-next]"),e.handle,e.timer,f&&(e.$el.tabIndex=0,e.$el.addEventListener("keydown",e.onKeyDown)),!v&&e.$slides[0].classList.add(s),e.startingIndex=l(e.$slides),e.machine=r(e.$slides,c),e.$prevBtn&&e.$prevBtn.addEventListener("click",e.prev),e.$nextBtn&&e.$nextBtn.addEventListener("click",e.next),e.currentIndex=e.startingIndex,d&&e._renderPager(e.startingIndex),u&&e._loop(),p&&e.goTo(e.startingIndex),e.started=!0,e},this.reset=function(){var n=e.options,i=n.selector,o=n.activeClass,a=n.loop,s=n.wrap,u=e.$nodes.indexOf(e.$el.querySelector("."+o));return a&&e._cancelLoop(),e.currentIndex=u>-1?u:0,e.$slides=[].concat(t(e.$el.querySelectorAll(i))),e.total=e.$slides.length-1,e.machine=r(e.$slides,s),e},this.destroy=function(){var t=e.options,n=t.activeClass,i=t.loop,r=t.dots;return i&&e._cancelLoop(),e.$prevBtn&&(e.$prevBtn.removeEventListener("click",e.prev),e.$prevBtn.removeAttribute("disabled")),e.$nextBtn&&(e.$nextBtn.removeEventListener("click",e.next),e.$nextBtn.removeAttribute("disabled")),r&&(e.$pagerButtons.forEach(function(t){return t.removeEventListener("click",e.onPagerClick)}),e.$pagerWrapper.parentNode.removeChild(e.$pagerWrapper)),e.$slides[e.currentIndex].classList.remove(n),e.$slides.forEach(function(e){return e.setAttribute("data-slide-item","")}),e.$slides=[],e.off("*"),e},this.prev=function(t){t&&t.preventDefault(),e._transition(e.currentIndex,"PREV")},this.next=function(t){t&&t.preventDefault(),e._transition(e.currentIndex,"NEXT")},this.onKeyDown=function(t){if(e.options.accessibility&&(!document.activeElement||document.activeElement===e.$el)){var n=t.keyCode;37===n&&e.prev(),39===n&&e.next()}},this.before=function(t){return e.options.promiseBefore?new Promise(function(n){e.emit("spon:before",{props:t,resolve:n})}):Promise.resolve()},this.goTo=function(t){if(!(e.currentIndex===t&&e.started||e.isRuning)){e.isRuning=!0;var n=e.options,r=n.activeClass,a=n.loop,u=n.animationType,c=n.dots,d=n.wrap,l=n.accessibility,p=(t>e.currentIndex||0===t&&e.currentIndex===e.total)&&!(t===e.total&&0===e.currentIndex),f=e.$slides[e.currentIndex],v=e.$slides[t];l&&(f.setAttribute("aria-hidden",!0),v.setAttribute("aria-hidden",!1));var m={direction:p?"forwards":"backwards",currentEl:f,nextEl:v},h=i({},m,{newIndex:t,currentIndex:e.currentIndex});d||e._updateButtonStates(t),"custom"!==u?e.before(i({},h)).then(function(){e.emit("spon:change",h),e.$slides.filter(function(n,i){return i!==e.currentIndex&&i!==t}).forEach(function(e){return e.setAttribute("data-slide-item","")}),o(s(),f,function(){f.classList.remove(r),f.setAttribute("data-slide-item",p?"hide-prev":"hide-next")}).then(function(){e.emit("spon:after",m)}),e.isRuning=!1,a&&(e._cancelLoop(),e._loop()),v.classList.add(r),v.setAttribute("data-slide-item",p?"show-next":"show-prev"),c&&e._updatePagerButtons(t),e.currentIndex=t}):e.before(h).then(function(){c&&e._updatePagerButtons(t),e.emit("spon:after",m),e.currentIndex=t,e.isRuning=!1,a&&(e._cancelLoop(),e._loop())})}},this._transition=function(t,n){var i=e.machine[t][n];e.emit("spon:"+n.toLowerCase(),{current:e.currentIndex,next:i,slides:e.$slides}),e.goTo(i)},this._updateButtonStates=function(t){var n=0===t,i=t===e.total;e.$prevBtn[n?"setAttribute":"removeAttribute"]("disabled",n),e.$nextBtn[i?"setAttribute":"removeAttribute"]("disabled",i)},this._onPagerClick=function(t){e._updatePagerButtons(t),e.goTo(t)},this._updatePagerButtons=function(t){e.$pagerButtons[e.currentIndex].setAttribute("data-slide-pager",""),e.$pagerButtons[t].setAttribute("data-slide-pager","active")},this._renderPager=function(t){var n=e.options,i=n.paginationParent,r=n.paginationWrapper,o=n.paginationButtons,s=i||e.$el;e.$pagerWrapper=s.appendChild(a(r)),e.$pagerButtons=o(e.$slides).map(function(e){return a(e)}).map(function(n,i){return n.setAttribute("data-slide-pager",i===t?"active":""),n.addEventListener("click",e._onPagerClick.bind(e,i)),n}),e.$pagerWrapper.appendChild(e.$pagerButtons.reduce(function(e,t){return e.appendChild(t),e},document.createDocumentFragment()))},this._loop=function(){var t=e.options.delay;e.timer=setTimeout(function(){e.handle=requestAnimationFrame(e._loop),e.next()},t)},this._cancelLoop=function(){cancelAnimationFrame(e.handle),clearTimeout(e.timer)}};return function t(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),u.call(this),this.options=i({},this.defaults,o),this.$el=r,Object.assign(this,e())}});
