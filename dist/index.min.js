!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.sponResize=e()}(this,function(){"use strict";function t(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).slice().map(function(t){t(n)}),(t["*"]||[]).slice().map(function(t){t(e,n)})}}}function e(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,r=function(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(d=e.createElement("html")).innerHTML=t,d.removeChild(d.lastChild);var r=a[i]||a._default,o=r[0],s=r[1],l=r[2],d=e.createElement("div");for(d.innerHTML=s+t+l;o--;)d=d.lastChild;if(d.firstChild==d.lastChild)return d.removeChild(d.firstChild);for(var u=e.createDocumentFragment();d.firstChild;)u.appendChild(d.removeChild(d.firstChild));return u},o=!1;"undefined"!=typeof document&&((i=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!i.getElementsByTagName("link").length,i=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var s=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.map(function(t,n,i){return{PREV:i[n-1]?{$el:i[n-1],index:n-1}:!0===e?{$el:i[i.length-1],index:i.length-1}:{$el:t,index:n},NEXT:i[n+1]?{$el:i[n+1],index:n+1}:!0===e?{$el:i[0],index:0}:{$el:i[n],index:n}}})},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=!1,r=function n(r,o){if(o.stopPropagation(),e.removeEventListener(t,n),o.target===e&&!i)return i=!0,void r()};return new Promise(function(i){n(),e.addEventListener(t,r.bind(null,i),!1)})},d=function(t){var e=void 0;e=!t||"transition"!==t&&"trans"!==t?{OAnimation:"oAnimationEnd",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"}:{OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};var n=document.createElement("fake");return Object.keys(e).reduce(function(t,i){return void 0!==n.style[i]?e[i]:t},"")},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){var t=this;this.defaults={animationType:"animation",selector:"[data-slide-item]",previousButton:"[data-slide-prev]",nextButton:"[data-slide-next]",activeClass:"c-slide__item--current",loop:!1,delay:3e3,wrap:!0,dots:!0,promiseBefore:!1,paginationParent:!1,animateOnInit:!1,startingIndex:function(){return 0},paginationWrapper:'<div class="absolute w-full pin-t z-10 flex justify-center"></div>',paginationButtons:function(t){return t.map(function(){return"<button>&#9679</button>"})}},this.setOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.options=u({},t.options,{options:e}),t},this.init=function(){var n=t.options,i=n.selector,r=n.previousButton,o=n.nextButton,a=n.animationType,l=n.activeClass,u=n.loop,c=n.wrap,p=n.dots,f=n.startingIndex,m=(n.animateOnInit,t.$el.querySelector("."+l));return t.$slides=[].concat(e(t.$el.querySelectorAll(i))),t.total=t.$slides.length-1,t.$prevBtn=r&&t.$el.querySelector(r),t.$nextBtn=o&&t.$el.querySelector("[data-slide-next]"),t.animationEvent=d(a),t.handle,t.timer,!m&&t.$slides[0].classList.add(l),t.startingIndex=f(t.$slides),t.machine=s(t.$slides,c),t.$prevBtn&&t.$prevBtn.addEventListener("click",t.prev),t.$nextBtn&&t.$nextBtn.addEventListener("click",t.next),t.currentIndex=t.startingIndex,p&&t._renderPager(t.startingIndex),u&&t._loop(),t.animateOnInit&&t.goTo(t.startingIndex),t.started=!0,t},this.reset=function(){var n=t.option,i=n.selector,r=n.activeClass,o=n.loop,a=n.wrap,l=t.$nodes.indexOf(t.$el.querySelector("."+r));return o&&t._cancelLoop(),t.currentIndex=l>-1?l:0,t.$slides=[].concat(e(t.$el.querySelectorAll(i))),t.total=t.$slides.length-1,t.machine=s(t.$slides,a),t},this.destroy=function(){var e=t.option,n=e.activeClass,i=e.loop,r=e.dots;return i&&t._cancelLoop(),t.$prevBtn&&(t.$prevBtn.removeEventListener("click",t.prev),t.$prevBtn.removeAttribute("disabled")),t.$nextBtn&&(t.$nextBtn.removeEventListener("click",t.next),t.$nextBtn.removeAttribute("disabled")),r&&(t.$pagerButtons.forEach(function(e){return e.removeEventListener("click",t.onPagerClick)}),t.$pagerWrapper.parentNode.removeChild(t.$pagerWrapper)),t.$slides[t.currentIndex].classList.remove(n),t.$slides.forEach(function(t){return t.setAttribute("data-slide-item")}),t.$slides=[],t.off("*"),t},this.prev=function(e){e&&e.preventDefault(),t.emit("spon:prev"),t._transition(t.currentIndex,"PREV")},this.next=function(e){e&&e.preventDefault(),t.emit("spon:next"),t._transition(t.currentIndex,"NEXT")},this.before=function(e){return t.options.promiseBefore?new Promise(function(n){t.emit("spon:before",{props:e,resolve:n})}):Promise.resolve()},this.goTo=function(e){if(!(t.currentIndex===e&&t.started||t.isRuning)){t.isRuning=!0;var n=t.options,i=n.activeClass,r=n.loop,o=n.animationType,a=n.dots,s=n.wrap,d=(e>t.currentIndex||0===e&&t.currentIndex===t.total)&&!(e===t.total&&0===t.currentIndex),c=t.$slides[t.currentIndex],p=t.$slides[e],f={direction:d?"forwards":"backwards",currentEl:c,nextEl:p},m=u({},f,{newIndex:e,currentIndex:t.currentIndex});s||t._updateButtonStates(e),"animation"===o||"transition"===o?t.before(u({},m)).then(function(){t.emit("spon:change",m),t.$slides.filter(function(n,i){return i!==t.currentIndex&&i!==e}).forEach(function(t){return t.setAttribute("data-slide-item","")}),l(t.animationEvent,c,function(){c.classList.remove(i),c.setAttribute("data-slide-item",d?"hide-prev":"hide-next")}).then(function(){t.emit("spon:after",f)}),t.isRuning=!1,r&&(t._cancelLoop(),t._loop()),p.classList.add(i),p.setAttribute("data-slide-item",d?"show-next":"show-prev"),a&&t._updatePagerButtons(e),t.currentIndex=e}):t._customTransition(m).then(function(){a&&t._updatePagerButtons(e),t.emit("spon:after",f),t.currentIndex=e,t.isRuning=!1})}},this._transition=function(e,n){var i=t.machine[e][n];t.goTo(i.index)},this._updateButtonStates=function(e){var n=0===e,i=e===t.total;t.$prevBtn[n?"setAttribute":"removeAttribute"]("disabled",n),t.$nextBtn[i?"setAttribute":"removeAttribute"]("disabled",i)},this._customTransition=function(e){return t.options.promiseBefore?new Promise(function(n){t.emit("spon:before",{props:e,resolve:n})}):Promise.resolve()},this._onPagerClick=function(e){t._updatePagerButtons(e),t.goTo(e)},this._updatePagerButtons=function(e){t.$pagerButtons[t.currentIndex].setAttribute("data-slide-pager",""),t.$pagerButtons[e].setAttribute("data-slide-pager","active")},this._renderPager=function(e){var n=t.options,i=n.paginationParent,o=n.paginationWrapper,a=n.paginationButtons,s=i||t.$el;t.$pagerWrapper=s.appendChild(r(o)),t.$pagerButtons=a(t.$slides).map(function(t){return r(t)}).map(function(n,i){return n.setAttribute("data-slide-pager",i===e?"active":""),n.addEventListener("click",t._onPagerClick.bind(t,i)),n}),t.$pagerWrapper.appendChild(t.$pagerButtons.reduce(function(t,e){return t.appendChild(e),t},document.createDocumentFragment()))},this._loop=function(){var e=t.options.delay;t.timer=setTimeout(function(){t.handle=requestAnimationFrame(t._loop),t.next()},e)},this._cancelLoop=function(){cancelAnimationFrame(t.handle),clearTimeout(t.timer)}};return function e(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),c.call(this),this.options=u({},this.defaults,r),this.$el=i,Object.assign(this,t())}});
